{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/nacho/prog/next/tic-tac-toe/components/game.js\";\nimport Board from './board';\nimport { useState, useEffect } from 'react';\n\nconst Game = () => {\n  const {\n    0: history,\n    1: setHistory\n  } = useState([{\n    squares: Array(9).fill(null)\n  }]);\n  const {\n    0: stepNumber,\n    1: setStepNumber\n  } = useState(0);\n  const {\n    0: xIsNext,\n    1: setXIsNext\n  } = useState(true);\n  const {\n    0: status,\n    1: setStatus\n  } = useState(\"\");\n\n  const handleClick = i => {\n    const hist = history.slice(0, stepNumber + 1);\n    const current = hist[hist.length - 1];\n    const squares = current.squares.slice();\n\n    if (calculateWinner(squares) || squares[i]) {\n      return;\n    }\n\n    squares[i] = xIsNext ? \"X\" : \"O\";\n    setHistory(hist.concat([{\n      squares\n    }]));\n    setStepNumber(hist.length);\n    setXIsNext(!xIsNext);\n  };\n\n  const jumpTo = step => {\n    setStepNumber(step);\n    setXIsNext(step % 2 === 0);\n  };\n\n  const moves = history.map((step, move) => {\n    const desc = move ? 'Go to move #' + move : 'Go to game start';\n    return /*#__PURE__*/_jsxDEV(\"li\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => jumpTo(move),\n        children: desc\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 9\n      }, this)\n    }, move, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this);\n  });\n  let current = history[stepNumber];\n  let winner = calculateWinner(current.squares);\n  useEffect(() => {\n    current = history[stepNumber];\n    winner = calculateWinner(current.squares);\n\n    if (winner) {\n      setStatus(\"Winner: \" + winner);\n    } else {\n      setStatus(\"Next player: \" + (xIsNext ? \"X\" : \"O\"));\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-board\",\n      children: /*#__PURE__*/_jsxDEV(Board, {\n        squares: current.squares,\n        onClick: i => handleClick(i)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"game-info\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: status\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ol\", {\n        children: moves\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\nfunction calculateWinner(squares) {\n  const lines = [[0, 1, 2], [3, 4, 5], [6, 7, 8], [0, 3, 6], [1, 4, 7], [2, 5, 8], [0, 4, 8], [2, 4, 6]];\n\n  for (let i = 0; i < lines.length; i++) {\n    const [a, b, c] = lines[i];\n\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n      return squares[a];\n    }\n  }\n\n  return null;\n}\n\nexport default Game;","map":{"version":3,"sources":["/home/nacho/prog/next/tic-tac-toe/components/game.js"],"names":["Board","useState","useEffect","Game","history","setHistory","squares","Array","fill","stepNumber","setStepNumber","xIsNext","setXIsNext","status","setStatus","handleClick","i","hist","slice","current","length","calculateWinner","concat","jumpTo","step","moves","map","move","desc","winner","lines","a","b","c"],"mappings":"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","sourcesContent":["import Board from './board'\nimport { useState, useEffect } from 'react'\n\nconst Game = () => {\n  const [history, setHistory] = useState([{ squares: Array(9).fill(null) }]);\n  const [stepNumber, setStepNumber] = useState(0);\n  const [xIsNext, setXIsNext] = useState(true);\n  const [status, setStatus] = useState(\"\");\n\n  const handleClick = (i) => {\n    const hist = history.slice(0, stepNumber + 1);\n    const current = hist[hist.length - 1];\n    const squares = current.squares.slice();\n    if (calculateWinner(squares) || squares[i]) {\n      return;\n    }\n    squares[i] = xIsNext ? \"X\" : \"O\";\n\n    setHistory(hist.concat([{ squares }]));\n    setStepNumber(hist.length);\n    setXIsNext(!xIsNext);\n  }\n\n  const jumpTo = (step) => {\n    setStepNumber(step);\n    setXIsNext((step % 2) === 0);\n  }\n\n\n  const moves = history.map((step, move) => {\n    const desc = move ?\n      'Go to move #' + move :\n      'Go to game start';\n    return (\n      <li key={move}>\n        <button onClick={() => jumpTo(move)}>{desc}</button>\n      </li>\n    );\n  });\n\n  let current = history[stepNumber];\n  let winner = calculateWinner(current.squares);\n  useEffect(() => {\n    current = history[stepNumber];\n    winner = calculateWinner(current.squares);\n\n    if (winner) {\n      setStatus(\"Winner: \" + winner);\n    } else {\n      setStatus(\"Next player: \" + (xIsNext ? \"X\" : \"O\"));\n    }\n\n  });\n\n  return (\n    <div className=\"game\">\n      <div className=\"game-board\">\n        <Board\n          squares={current.squares}\n          onClick={i => handleClick(i)}\n        />\n      </div>\n      <div className=\"game-info\">\n        <div>{status}</div>\n        <ol>{moves}</ol>\n      </div>\n    </div>\n  );\n\n}\n\nfunction calculateWinner(squares) {\n  const lines = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8],\n    [0, 3, 6],\n    [1, 4, 7],\n    [2, 5, 8],\n    [0, 4, 8],\n    [2, 4, 6]\n  ];\n  for (let i = 0; i < lines.length; i++) {\n    const [a, b, c] = lines[i];\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n      return squares[a];\n    }\n  }\n  return null;\n}\n\nexport default Game"]},"metadata":{},"sourceType":"module"}